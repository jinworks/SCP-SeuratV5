---
title: "Spatial Workflows (Visium/HD)"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Spatial Workflows}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```r
library(SCP)
EnsureEnv(required = c("scanpy","squidpy","anndata"))

# Visium v1/v2
srt <- LoadSpatialData("/path/to/spaceranger/outs", assay = "Spatial")
srt <- PreprocessSpatial(srt)
srt <- RunSpatialGraph(srt, method = "knn")
srt <- RunSpatialEnrichment(srt)
SpatialEnrichmentPlot(srt)

# Visium HD binned outputs (square_008um)
hd_bin <- "/path/to/binned_outputs/square_008um"
srt_hd <- LoadSpatialData(hd_bin, assay = "Spatial")
# If images arenâ€™t detected, coordinates are attached from tissue_positions.parquet
srt_hd <- PreprocessSpatial(srt_hd, normalization_method = "LogNormalize")
srt_hd <- RunSpatialGraph(srt_hd, method = "knn")
```

